// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package ecs

import (
	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/go/pulumi"
)

// Manage image sharing permissions. You can share your custom image to other Alibaba Cloud users. The user can use the shared custom image to create ECS instances or replace the system disk of the instance.
// 
// > **NOTE:** You can only share your own custom images to other Alibaba Cloud users.
// 
// > **NOTE:** Each custom image can be shared with up to 50 Alibaba Cloud accounts. You can submit a ticket to share with more users.
// 
// > **NOTE:** After creating an ECS instance using a shared image, once the custom image owner releases the image sharing relationship or deletes the custom image, the instance cannot initialize the system disk.
// 
// > **NOTE:** Available in 1.68.0+.
//
// > This content is derived from https://github.com/terraform-providers/terraform-provider-alicloud/blob/master/website/docs/r/image_share_permission.html.markdown.
type ImageSharePermission struct {
	s *pulumi.ResourceState
}

// NewImageSharePermission registers a new resource with the given unique name, arguments, and options.
func NewImageSharePermission(ctx *pulumi.Context,
	name string, args *ImageSharePermissionArgs, opts ...pulumi.ResourceOpt) (*ImageSharePermission, error) {
	if args == nil || args.AccountId == nil {
		return nil, errors.New("missing required argument 'AccountId'")
	}
	if args == nil || args.ImageId == nil {
		return nil, errors.New("missing required argument 'ImageId'")
	}
	inputs := make(map[string]interface{})
	if args == nil {
		inputs["accountId"] = nil
		inputs["imageId"] = nil
	} else {
		inputs["accountId"] = args.AccountId
		inputs["imageId"] = args.ImageId
	}
	s, err := ctx.RegisterResource("alicloud:ecs/imageSharePermission:ImageSharePermission", name, true, inputs, opts...)
	if err != nil {
		return nil, err
	}
	return &ImageSharePermission{s: s}, nil
}

// GetImageSharePermission gets an existing ImageSharePermission resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetImageSharePermission(ctx *pulumi.Context,
	name string, id pulumi.ID, state *ImageSharePermissionState, opts ...pulumi.ResourceOpt) (*ImageSharePermission, error) {
	inputs := make(map[string]interface{})
	if state != nil {
		inputs["accountId"] = state.AccountId
		inputs["imageId"] = state.ImageId
	}
	s, err := ctx.ReadResource("alicloud:ecs/imageSharePermission:ImageSharePermission", name, id, inputs, opts...)
	if err != nil {
		return nil, err
	}
	return &ImageSharePermission{s: s}, nil
}

// URN is this resource's unique name assigned by Pulumi.
func (r *ImageSharePermission) URN() pulumi.URNOutput {
	return r.s.URN()
}

// ID is this resource's unique identifier assigned by its provider.
func (r *ImageSharePermission) ID() pulumi.IDOutput {
	return r.s.ID()
}

// Alibaba Cloud Account ID. It is used to share images.
func (r *ImageSharePermission) AccountId() pulumi.StringOutput {
	return (pulumi.StringOutput)(r.s.State["accountId"])
}

// The source image ID.
func (r *ImageSharePermission) ImageId() pulumi.StringOutput {
	return (pulumi.StringOutput)(r.s.State["imageId"])
}

// Input properties used for looking up and filtering ImageSharePermission resources.
type ImageSharePermissionState struct {
	// Alibaba Cloud Account ID. It is used to share images.
	AccountId interface{}
	// The source image ID.
	ImageId interface{}
}

// The set of arguments for constructing a ImageSharePermission resource.
type ImageSharePermissionArgs struct {
	// Alibaba Cloud Account ID. It is used to share images.
	AccountId interface{}
	// The source image ID.
	ImageId interface{}
}
