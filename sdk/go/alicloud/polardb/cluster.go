// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package polardb

import (
	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/go/pulumi"
)

// Provides a PolarDB cluster resource. A PolarDB cluster is an isolated database
// environment in the cloud. A PolarDB cluster can contain multiple user-created
// databases.
// 
// > **NOTE:** Available in v1.66.0+.
//
// > This content is derived from https://github.com/terraform-providers/terraform-provider-alicloud/blob/master/website/docs/r/polardb_cluster.html.markdown.
type Cluster struct {
	s *pulumi.ResourceState
}

// NewCluster registers a new resource with the given unique name, arguments, and options.
func NewCluster(ctx *pulumi.Context,
	name string, args *ClusterArgs, opts ...pulumi.ResourceOpt) (*Cluster, error) {
	if args == nil || args.DbNodeClass == nil {
		return nil, errors.New("missing required argument 'DbNodeClass'")
	}
	if args == nil || args.DbType == nil {
		return nil, errors.New("missing required argument 'DbType'")
	}
	if args == nil || args.DbVersion == nil {
		return nil, errors.New("missing required argument 'DbVersion'")
	}
	inputs := make(map[string]interface{})
	if args == nil {
		inputs["autoRenewPeriod"] = nil
		inputs["dbNodeClass"] = nil
		inputs["dbType"] = nil
		inputs["dbVersion"] = nil
		inputs["description"] = nil
		inputs["maintainTime"] = nil
		inputs["parameters"] = nil
		inputs["payType"] = nil
		inputs["period"] = nil
		inputs["renewalStatus"] = nil
		inputs["securityIps"] = nil
		inputs["tags"] = nil
		inputs["vswitchId"] = nil
		inputs["zoneId"] = nil
	} else {
		inputs["autoRenewPeriod"] = args.AutoRenewPeriod
		inputs["dbNodeClass"] = args.DbNodeClass
		inputs["dbType"] = args.DbType
		inputs["dbVersion"] = args.DbVersion
		inputs["description"] = args.Description
		inputs["maintainTime"] = args.MaintainTime
		inputs["parameters"] = args.Parameters
		inputs["payType"] = args.PayType
		inputs["period"] = args.Period
		inputs["renewalStatus"] = args.RenewalStatus
		inputs["securityIps"] = args.SecurityIps
		inputs["tags"] = args.Tags
		inputs["vswitchId"] = args.VswitchId
		inputs["zoneId"] = args.ZoneId
	}
	s, err := ctx.RegisterResource("alicloud:polardb/cluster:Cluster", name, true, inputs, opts...)
	if err != nil {
		return nil, err
	}
	return &Cluster{s: s}, nil
}

// GetCluster gets an existing Cluster resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetCluster(ctx *pulumi.Context,
	name string, id pulumi.ID, state *ClusterState, opts ...pulumi.ResourceOpt) (*Cluster, error) {
	inputs := make(map[string]interface{})
	if state != nil {
		inputs["autoRenewPeriod"] = state.AutoRenewPeriod
		inputs["dbNodeClass"] = state.DbNodeClass
		inputs["dbType"] = state.DbType
		inputs["dbVersion"] = state.DbVersion
		inputs["description"] = state.Description
		inputs["maintainTime"] = state.MaintainTime
		inputs["parameters"] = state.Parameters
		inputs["payType"] = state.PayType
		inputs["period"] = state.Period
		inputs["renewalStatus"] = state.RenewalStatus
		inputs["securityIps"] = state.SecurityIps
		inputs["tags"] = state.Tags
		inputs["vswitchId"] = state.VswitchId
		inputs["zoneId"] = state.ZoneId
	}
	s, err := ctx.ReadResource("alicloud:polardb/cluster:Cluster", name, id, inputs, opts...)
	if err != nil {
		return nil, err
	}
	return &Cluster{s: s}, nil
}

// URN is this resource's unique name assigned by Pulumi.
func (r *Cluster) URN() pulumi.URNOutput {
	return r.s.URN()
}

// ID is this resource's unique identifier assigned by its provider.
func (r *Cluster) ID() pulumi.IDOutput {
	return r.s.ID()
}

// Auto-renewal period of an cluster, in the unit of the month. It is valid when payType is `PrePaid`. Valid value:1, 2, 3, 6, 12, 24, 36, Default to 1.
func (r *Cluster) AutoRenewPeriod() pulumi.IntOutput {
	return (pulumi.IntOutput)(r.s.State["autoRenewPeriod"])
}

// The dbNodeClass of cluster node.
func (r *Cluster) DbNodeClass() pulumi.StringOutput {
	return (pulumi.StringOutput)(r.s.State["dbNodeClass"])
}

// Database type. Value options: MySQL, Oracle, PostgreSQL.
func (r *Cluster) DbType() pulumi.StringOutput {
	return (pulumi.StringOutput)(r.s.State["dbType"])
}

// Database version. Value options can refer to the latest docs [CreateDBCluster](https://help.aliyun.com/document_detail/98169.html) `DBVersion`.
func (r *Cluster) DbVersion() pulumi.StringOutput {
	return (pulumi.StringOutput)(r.s.State["dbVersion"])
}

// The description of cluster.
func (r *Cluster) Description() pulumi.StringOutput {
	return (pulumi.StringOutput)(r.s.State["description"])
}

// Maintainable time period format of the instance: HH:MMZ-HH:MMZ (UTC time)
func (r *Cluster) MaintainTime() pulumi.StringOutput {
	return (pulumi.StringOutput)(r.s.State["maintainTime"])
}

// Set of parameters needs to be set after DB cluster was launched. Available parameters can refer to the latest docs [View database parameter templates](https://www.alibabacloud.com/help/doc-detail/26284.htm) .
func (r *Cluster) Parameters() pulumi.ArrayOutput {
	return (pulumi.ArrayOutput)(r.s.State["parameters"])
}

// Valid values are `PrePaid`, `PostPaid`, Default to `PostPaid`. Currently, the resource can not supports change pay type.
func (r *Cluster) PayType() pulumi.StringOutput {
	return (pulumi.StringOutput)(r.s.State["payType"])
}

// The duration that you will buy DB cluster (in month). It is valid when payType is `PrePaid`. Valid values: [1~9], 12, 24, 36. Default to 1.
func (r *Cluster) Period() pulumi.IntOutput {
	return (pulumi.IntOutput)(r.s.State["period"])
}

// Valid values are `AutoRenewal`, `Normal`, `NotRenewal`, Default to `NotRenewal`.
func (r *Cluster) RenewalStatus() pulumi.StringOutput {
	return (pulumi.StringOutput)(r.s.State["renewalStatus"])
}

// List of IP addresses allowed to access all databases of an cluster. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32]).
func (r *Cluster) SecurityIps() pulumi.ArrayOutput {
	return (pulumi.ArrayOutput)(r.s.State["securityIps"])
}

// A mapping of tags to assign to the resource.
// - Key: It can be up to 64 characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It cannot be a null string.
// - Value: It can be up to 128 characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It can be a null string.
func (r *Cluster) Tags() pulumi.MapOutput {
	return (pulumi.MapOutput)(r.s.State["tags"])
}

// The virtual switch ID to launch DB instances in one VPC.
func (r *Cluster) VswitchId() pulumi.StringOutput {
	return (pulumi.StringOutput)(r.s.State["vswitchId"])
}

// The Zone to launch the DB cluster. it supports multiple zone.
func (r *Cluster) ZoneId() pulumi.StringOutput {
	return (pulumi.StringOutput)(r.s.State["zoneId"])
}

// Input properties used for looking up and filtering Cluster resources.
type ClusterState struct {
	// Auto-renewal period of an cluster, in the unit of the month. It is valid when payType is `PrePaid`. Valid value:1, 2, 3, 6, 12, 24, 36, Default to 1.
	AutoRenewPeriod interface{}
	// The dbNodeClass of cluster node.
	DbNodeClass interface{}
	// Database type. Value options: MySQL, Oracle, PostgreSQL.
	DbType interface{}
	// Database version. Value options can refer to the latest docs [CreateDBCluster](https://help.aliyun.com/document_detail/98169.html) `DBVersion`.
	DbVersion interface{}
	// The description of cluster.
	Description interface{}
	// Maintainable time period format of the instance: HH:MMZ-HH:MMZ (UTC time)
	MaintainTime interface{}
	// Set of parameters needs to be set after DB cluster was launched. Available parameters can refer to the latest docs [View database parameter templates](https://www.alibabacloud.com/help/doc-detail/26284.htm) .
	Parameters interface{}
	// Valid values are `PrePaid`, `PostPaid`, Default to `PostPaid`. Currently, the resource can not supports change pay type.
	PayType interface{}
	// The duration that you will buy DB cluster (in month). It is valid when payType is `PrePaid`. Valid values: [1~9], 12, 24, 36. Default to 1.
	Period interface{}
	// Valid values are `AutoRenewal`, `Normal`, `NotRenewal`, Default to `NotRenewal`.
	RenewalStatus interface{}
	// List of IP addresses allowed to access all databases of an cluster. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32]).
	SecurityIps interface{}
	// A mapping of tags to assign to the resource.
	// - Key: It can be up to 64 characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It cannot be a null string.
	// - Value: It can be up to 128 characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It can be a null string.
	Tags interface{}
	// The virtual switch ID to launch DB instances in one VPC.
	VswitchId interface{}
	// The Zone to launch the DB cluster. it supports multiple zone.
	ZoneId interface{}
}

// The set of arguments for constructing a Cluster resource.
type ClusterArgs struct {
	// Auto-renewal period of an cluster, in the unit of the month. It is valid when payType is `PrePaid`. Valid value:1, 2, 3, 6, 12, 24, 36, Default to 1.
	AutoRenewPeriod interface{}
	// The dbNodeClass of cluster node.
	DbNodeClass interface{}
	// Database type. Value options: MySQL, Oracle, PostgreSQL.
	DbType interface{}
	// Database version. Value options can refer to the latest docs [CreateDBCluster](https://help.aliyun.com/document_detail/98169.html) `DBVersion`.
	DbVersion interface{}
	// The description of cluster.
	Description interface{}
	// Maintainable time period format of the instance: HH:MMZ-HH:MMZ (UTC time)
	MaintainTime interface{}
	// Set of parameters needs to be set after DB cluster was launched. Available parameters can refer to the latest docs [View database parameter templates](https://www.alibabacloud.com/help/doc-detail/26284.htm) .
	Parameters interface{}
	// Valid values are `PrePaid`, `PostPaid`, Default to `PostPaid`. Currently, the resource can not supports change pay type.
	PayType interface{}
	// The duration that you will buy DB cluster (in month). It is valid when payType is `PrePaid`. Valid values: [1~9], 12, 24, 36. Default to 1.
	Period interface{}
	// Valid values are `AutoRenewal`, `Normal`, `NotRenewal`, Default to `NotRenewal`.
	RenewalStatus interface{}
	// List of IP addresses allowed to access all databases of an cluster. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32]).
	SecurityIps interface{}
	// A mapping of tags to assign to the resource.
	// - Key: It can be up to 64 characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It cannot be a null string.
	// - Value: It can be up to 128 characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It can be a null string.
	Tags interface{}
	// The virtual switch ID to launch DB instances in one VPC.
	VswitchId interface{}
	// The Zone to launch the DB cluster. it supports multiple zone.
	ZoneId interface{}
}
