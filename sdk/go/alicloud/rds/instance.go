// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package rds

import (
	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/go/pulumi"
)

// Provides an RDS instance resource. A DB instance is an isolated database
// environment in the cloud. A DB instance can contain multiple user-created
// databases.
type Instance struct {
	s *pulumi.ResourceState
}

// NewInstance registers a new resource with the given unique name, arguments, and options.
func NewInstance(ctx *pulumi.Context,
	name string, args *InstanceArgs, opts ...pulumi.ResourceOpt) (*Instance, error) {
	if args == nil || args.Engine == nil {
		return nil, errors.New("missing required argument 'Engine'")
	}
	if args == nil || args.EngineVersion == nil {
		return nil, errors.New("missing required argument 'EngineVersion'")
	}
	if args == nil || args.InstanceStorage == nil {
		return nil, errors.New("missing required argument 'InstanceStorage'")
	}
	if args == nil || args.InstanceType == nil {
		return nil, errors.New("missing required argument 'InstanceType'")
	}
	inputs := make(map[string]interface{})
	if args == nil {
		inputs["allocatePublicConnection"] = nil
		inputs["backupRetentionPeriod"] = nil
		inputs["connections"] = nil
		inputs["dbInstanceClass"] = nil
		inputs["dbInstanceNetType"] = nil
		inputs["dbInstanceStorage"] = nil
		inputs["dbMappings"] = nil
		inputs["engine"] = nil
		inputs["engineVersion"] = nil
		inputs["instanceChargeType"] = nil
		inputs["instanceName"] = nil
		inputs["instanceNetworkType"] = nil
		inputs["instanceStorage"] = nil
		inputs["instanceType"] = nil
		inputs["masterUserName"] = nil
		inputs["masterUserPassword"] = nil
		inputs["multiAz"] = nil
		inputs["period"] = nil
		inputs["preferredBackupPeriods"] = nil
		inputs["preferredBackupTime"] = nil
		inputs["securityIps"] = nil
		inputs["vswitchId"] = nil
		inputs["zoneId"] = nil
	} else {
		inputs["allocatePublicConnection"] = args.AllocatePublicConnection
		inputs["backupRetentionPeriod"] = args.BackupRetentionPeriod
		inputs["connections"] = args.Connections
		inputs["dbInstanceClass"] = args.DbInstanceClass
		inputs["dbInstanceNetType"] = args.DbInstanceNetType
		inputs["dbInstanceStorage"] = args.DbInstanceStorage
		inputs["dbMappings"] = args.DbMappings
		inputs["engine"] = args.Engine
		inputs["engineVersion"] = args.EngineVersion
		inputs["instanceChargeType"] = args.InstanceChargeType
		inputs["instanceName"] = args.InstanceName
		inputs["instanceNetworkType"] = args.InstanceNetworkType
		inputs["instanceStorage"] = args.InstanceStorage
		inputs["instanceType"] = args.InstanceType
		inputs["masterUserName"] = args.MasterUserName
		inputs["masterUserPassword"] = args.MasterUserPassword
		inputs["multiAz"] = args.MultiAz
		inputs["period"] = args.Period
		inputs["preferredBackupPeriods"] = args.PreferredBackupPeriods
		inputs["preferredBackupTime"] = args.PreferredBackupTime
		inputs["securityIps"] = args.SecurityIps
		inputs["vswitchId"] = args.VswitchId
		inputs["zoneId"] = args.ZoneId
	}
	inputs["connectionString"] = nil
	inputs["port"] = nil
	s, err := ctx.RegisterResource("alicloud:rds/instance:Instance", name, true, inputs, opts...)
	if err != nil {
		return nil, err
	}
	return &Instance{s: s}, nil
}

// GetInstance gets an existing Instance resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetInstance(ctx *pulumi.Context,
	name string, id pulumi.ID, state *InstanceState, opts ...pulumi.ResourceOpt) (*Instance, error) {
	inputs := make(map[string]interface{})
	if state != nil {
		inputs["allocatePublicConnection"] = state.AllocatePublicConnection
		inputs["backupRetentionPeriod"] = state.BackupRetentionPeriod
		inputs["connectionString"] = state.ConnectionString
		inputs["connections"] = state.Connections
		inputs["dbInstanceClass"] = state.DbInstanceClass
		inputs["dbInstanceNetType"] = state.DbInstanceNetType
		inputs["dbInstanceStorage"] = state.DbInstanceStorage
		inputs["dbMappings"] = state.DbMappings
		inputs["engine"] = state.Engine
		inputs["engineVersion"] = state.EngineVersion
		inputs["instanceChargeType"] = state.InstanceChargeType
		inputs["instanceName"] = state.InstanceName
		inputs["instanceNetworkType"] = state.InstanceNetworkType
		inputs["instanceStorage"] = state.InstanceStorage
		inputs["instanceType"] = state.InstanceType
		inputs["masterUserName"] = state.MasterUserName
		inputs["masterUserPassword"] = state.MasterUserPassword
		inputs["multiAz"] = state.MultiAz
		inputs["period"] = state.Period
		inputs["port"] = state.Port
		inputs["preferredBackupPeriods"] = state.PreferredBackupPeriods
		inputs["preferredBackupTime"] = state.PreferredBackupTime
		inputs["securityIps"] = state.SecurityIps
		inputs["vswitchId"] = state.VswitchId
		inputs["zoneId"] = state.ZoneId
	}
	s, err := ctx.ReadResource("alicloud:rds/instance:Instance", name, id, inputs, opts...)
	if err != nil {
		return nil, err
	}
	return &Instance{s: s}, nil
}

// URN is this resource's unique name assigned by Pulumi.
func (r *Instance) URN() *pulumi.URNOutput {
	return r.s.URN
}

// ID is this resource's unique identifier assigned by its provider.
func (r *Instance) ID() *pulumi.IDOutput {
	return r.s.ID
}

// It has been deprecated from version 1.5.0. If you want to allocate public connection string, please use new resource `alicloud_db_connection`.
func (r *Instance) AllocatePublicConnection() *pulumi.BoolOutput {
	return (*pulumi.BoolOutput)(r.s.State["allocatePublicConnection"])
}

// It has been deprecated from version 1.5.0. New resource `alicloud_db_backup_policy` field 'retention_period' replaces it.
func (r *Instance) BackupRetentionPeriod() *pulumi.IntOutput {
	return (*pulumi.IntOutput)(r.s.State["backupRetentionPeriod"])
}

// RDS database connection string.
func (r *Instance) ConnectionString() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["connectionString"])
}

// (Deprecated from version 1.5.0).
func (r *Instance) Connections() *pulumi.ArrayOutput {
	return (*pulumi.ArrayOutput)(r.s.State["connections"])
}

// It has been deprecated from version 1.5.0 and use 'instance_type' to replace.
func (r *Instance) DbInstanceClass() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["dbInstanceClass"])
}

// It has been deprecated from version 1.5.0. If you want to set public connection, please use new resource `alicloud_db_connection`. Default to Intranet.
func (r *Instance) DbInstanceNetType() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["dbInstanceNetType"])
}

// It has been deprecated from version 1.5.0 and use 'instance_storage' to replace.
func (r *Instance) DbInstanceStorage() *pulumi.IntOutput {
	return (*pulumi.IntOutput)(r.s.State["dbInstanceStorage"])
}

// It has been deprecated from version 1.5.0. New resource `alicloud_db_database` replaces it.
func (r *Instance) DbMappings() *pulumi.ArrayOutput {
	return (*pulumi.ArrayOutput)(r.s.State["dbMappings"])
}

// Database type. Value options: MySQL, SQLServer, PostgreSQL, and PPAS.
func (r *Instance) Engine() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["engine"])
}

// Database version. Value options: 
// - 5.5/5.6/5.7 for MySQL
// - 2008r2/2012 for SQLServer
// - 9.4/10.0 for PostgreSQL
// - 9.3 for PPAS
func (r *Instance) EngineVersion() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["engineVersion"])
}

// Valid values are `Prepaid`, `Postpaid`, Default to `Postpaid`.
func (r *Instance) InstanceChargeType() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["instanceChargeType"])
}

// The name of DB instance. It a string of 2 to 256 characters.
func (r *Instance) InstanceName() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["instanceName"])
}

// It has been deprecated from version 1.5.0. If you want to create instances in VPC network, this parameter must be set.
func (r *Instance) InstanceNetworkType() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["instanceNetworkType"])
}

// User-defined DB instance storage space. Value range:
// - [5, 2000] for MySQL/PostgreSQL/PPAS HA dual node edition;
// - [20,1000] for MySQL 5.7 basic single node edition;
// - [10, 2000] for SQL Server 2008R2;
// - [20,2000] for SQL Server 2012 basic single node edition
// Increase progressively at a rate of 5 GB. For details, see [Instance type table](https://www.alibabacloud.com/help/doc-detail/26312.htm).
func (r *Instance) InstanceStorage() *pulumi.IntOutput {
	return (*pulumi.IntOutput)(r.s.State["instanceStorage"])
}

// DB Instance type. For details, see [Instance type table](https://www.alibabacloud.com/help/doc-detail/26312.htm).
func (r *Instance) InstanceType() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["instanceType"])
}

// It has been deprecated from version 1.5.0. New resource `alicloud_db_account` field 'name' replaces it.
func (r *Instance) MasterUserName() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["masterUserName"])
}

// It has been deprecated from version 1.5.0. New resource `alicloud_db_account` field 'password' replaces it.
func (r *Instance) MasterUserPassword() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["masterUserPassword"])
}

// It has been deprecated from version 1.8.1, and `zone_id` can support multiple zone.
func (r *Instance) MultiAz() *pulumi.BoolOutput {
	return (*pulumi.BoolOutput)(r.s.State["multiAz"])
}

// The duration that you will buy DB instance (in month). It is valid when instance_charge_type is `PrePaid`. Valid values: [1~9], 12, 24, 36. Default to 1.
func (r *Instance) Period() *pulumi.IntOutput {
	return (*pulumi.IntOutput)(r.s.State["period"])
}

// RDS database connection port.
func (r *Instance) Port() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["port"])
}

// It has been deprecated from version 1.5.0. New resource `alicloud_db_backup_policy` field 'backup_period' replaces it.
func (r *Instance) PreferredBackupPeriods() *pulumi.ArrayOutput {
	return (*pulumi.ArrayOutput)(r.s.State["preferredBackupPeriods"])
}

// It has been deprecated from version 1.5.0. New resource `alicloud_db_backup_policy` field 'backup_time' replaces it.
func (r *Instance) PreferredBackupTime() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["preferredBackupTime"])
}

// List of IP addresses allowed to access all databases of an instance. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32]).
func (r *Instance) SecurityIps() *pulumi.ArrayOutput {
	return (*pulumi.ArrayOutput)(r.s.State["securityIps"])
}

// The virtual switch ID to launch DB instances in one VPC.
func (r *Instance) VswitchId() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["vswitchId"])
}

// The Zone to launch the DB instance. From version 1.8.1, it supports multiple zone.
// If it is a multi-zone and `vswitch_id` is specified, the vswitch must in the one of them.
// The multiple zone ID can be retrieved by setting `multi` to "true" in the data source `alicloud_zones`.
func (r *Instance) ZoneId() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["zoneId"])
}

// Input properties used for looking up and filtering Instance resources.
type InstanceState struct {
	// It has been deprecated from version 1.5.0. If you want to allocate public connection string, please use new resource `alicloud_db_connection`.
	AllocatePublicConnection interface{}
	// It has been deprecated from version 1.5.0. New resource `alicloud_db_backup_policy` field 'retention_period' replaces it.
	BackupRetentionPeriod interface{}
	// RDS database connection string.
	ConnectionString interface{}
	// (Deprecated from version 1.5.0).
	Connections interface{}
	// It has been deprecated from version 1.5.0 and use 'instance_type' to replace.
	DbInstanceClass interface{}
	// It has been deprecated from version 1.5.0. If you want to set public connection, please use new resource `alicloud_db_connection`. Default to Intranet.
	DbInstanceNetType interface{}
	// It has been deprecated from version 1.5.0 and use 'instance_storage' to replace.
	DbInstanceStorage interface{}
	// It has been deprecated from version 1.5.0. New resource `alicloud_db_database` replaces it.
	DbMappings interface{}
	// Database type. Value options: MySQL, SQLServer, PostgreSQL, and PPAS.
	Engine interface{}
	// Database version. Value options: 
	// - 5.5/5.6/5.7 for MySQL
	// - 2008r2/2012 for SQLServer
	// - 9.4/10.0 for PostgreSQL
	// - 9.3 for PPAS
	EngineVersion interface{}
	// Valid values are `Prepaid`, `Postpaid`, Default to `Postpaid`.
	InstanceChargeType interface{}
	// The name of DB instance. It a string of 2 to 256 characters.
	InstanceName interface{}
	// It has been deprecated from version 1.5.0. If you want to create instances in VPC network, this parameter must be set.
	InstanceNetworkType interface{}
	// User-defined DB instance storage space. Value range:
	// - [5, 2000] for MySQL/PostgreSQL/PPAS HA dual node edition;
	// - [20,1000] for MySQL 5.7 basic single node edition;
	// - [10, 2000] for SQL Server 2008R2;
	// - [20,2000] for SQL Server 2012 basic single node edition
	// Increase progressively at a rate of 5 GB. For details, see [Instance type table](https://www.alibabacloud.com/help/doc-detail/26312.htm).
	InstanceStorage interface{}
	// DB Instance type. For details, see [Instance type table](https://www.alibabacloud.com/help/doc-detail/26312.htm).
	InstanceType interface{}
	// It has been deprecated from version 1.5.0. New resource `alicloud_db_account` field 'name' replaces it.
	MasterUserName interface{}
	// It has been deprecated from version 1.5.0. New resource `alicloud_db_account` field 'password' replaces it.
	MasterUserPassword interface{}
	// It has been deprecated from version 1.8.1, and `zone_id` can support multiple zone.
	MultiAz interface{}
	// The duration that you will buy DB instance (in month). It is valid when instance_charge_type is `PrePaid`. Valid values: [1~9], 12, 24, 36. Default to 1.
	Period interface{}
	// RDS database connection port.
	Port interface{}
	// It has been deprecated from version 1.5.0. New resource `alicloud_db_backup_policy` field 'backup_period' replaces it.
	PreferredBackupPeriods interface{}
	// It has been deprecated from version 1.5.0. New resource `alicloud_db_backup_policy` field 'backup_time' replaces it.
	PreferredBackupTime interface{}
	// List of IP addresses allowed to access all databases of an instance. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32]).
	SecurityIps interface{}
	// The virtual switch ID to launch DB instances in one VPC.
	VswitchId interface{}
	// The Zone to launch the DB instance. From version 1.8.1, it supports multiple zone.
	// If it is a multi-zone and `vswitch_id` is specified, the vswitch must in the one of them.
	// The multiple zone ID can be retrieved by setting `multi` to "true" in the data source `alicloud_zones`.
	ZoneId interface{}
}

// The set of arguments for constructing a Instance resource.
type InstanceArgs struct {
	// It has been deprecated from version 1.5.0. If you want to allocate public connection string, please use new resource `alicloud_db_connection`.
	AllocatePublicConnection interface{}
	// It has been deprecated from version 1.5.0. New resource `alicloud_db_backup_policy` field 'retention_period' replaces it.
	BackupRetentionPeriod interface{}
	// (Deprecated from version 1.5.0).
	Connections interface{}
	// It has been deprecated from version 1.5.0 and use 'instance_type' to replace.
	DbInstanceClass interface{}
	// It has been deprecated from version 1.5.0. If you want to set public connection, please use new resource `alicloud_db_connection`. Default to Intranet.
	DbInstanceNetType interface{}
	// It has been deprecated from version 1.5.0 and use 'instance_storage' to replace.
	DbInstanceStorage interface{}
	// It has been deprecated from version 1.5.0. New resource `alicloud_db_database` replaces it.
	DbMappings interface{}
	// Database type. Value options: MySQL, SQLServer, PostgreSQL, and PPAS.
	Engine interface{}
	// Database version. Value options: 
	// - 5.5/5.6/5.7 for MySQL
	// - 2008r2/2012 for SQLServer
	// - 9.4/10.0 for PostgreSQL
	// - 9.3 for PPAS
	EngineVersion interface{}
	// Valid values are `Prepaid`, `Postpaid`, Default to `Postpaid`.
	InstanceChargeType interface{}
	// The name of DB instance. It a string of 2 to 256 characters.
	InstanceName interface{}
	// It has been deprecated from version 1.5.0. If you want to create instances in VPC network, this parameter must be set.
	InstanceNetworkType interface{}
	// User-defined DB instance storage space. Value range:
	// - [5, 2000] for MySQL/PostgreSQL/PPAS HA dual node edition;
	// - [20,1000] for MySQL 5.7 basic single node edition;
	// - [10, 2000] for SQL Server 2008R2;
	// - [20,2000] for SQL Server 2012 basic single node edition
	// Increase progressively at a rate of 5 GB. For details, see [Instance type table](https://www.alibabacloud.com/help/doc-detail/26312.htm).
	InstanceStorage interface{}
	// DB Instance type. For details, see [Instance type table](https://www.alibabacloud.com/help/doc-detail/26312.htm).
	InstanceType interface{}
	// It has been deprecated from version 1.5.0. New resource `alicloud_db_account` field 'name' replaces it.
	MasterUserName interface{}
	// It has been deprecated from version 1.5.0. New resource `alicloud_db_account` field 'password' replaces it.
	MasterUserPassword interface{}
	// It has been deprecated from version 1.8.1, and `zone_id` can support multiple zone.
	MultiAz interface{}
	// The duration that you will buy DB instance (in month). It is valid when instance_charge_type is `PrePaid`. Valid values: [1~9], 12, 24, 36. Default to 1.
	Period interface{}
	// It has been deprecated from version 1.5.0. New resource `alicloud_db_backup_policy` field 'backup_period' replaces it.
	PreferredBackupPeriods interface{}
	// It has been deprecated from version 1.5.0. New resource `alicloud_db_backup_policy` field 'backup_time' replaces it.
	PreferredBackupTime interface{}
	// List of IP addresses allowed to access all databases of an instance. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32]).
	SecurityIps interface{}
	// The virtual switch ID to launch DB instances in one VPC.
	VswitchId interface{}
	// The Zone to launch the DB instance. From version 1.8.1, it supports multiple zone.
	// If it is a multi-zone and `vswitch_id` is specified, the vswitch must in the one of them.
	// The multiple zone ID can be retrieved by setting `multi` to "true" in the data source `alicloud_zones`.
	ZoneId interface{}
}
