// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package cms

import (
	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/go/pulumi"
)

// This resource provides a alarm rule resource and it can be used to monitor several cloud services according different metrics.
// Details for [alarm rule](https://www.alibabacloud.com/help/doc-detail/28608.htm).
type Alarm struct {
	s *pulumi.ResourceState
}

// NewAlarm registers a new resource with the given unique name, arguments, and options.
func NewAlarm(ctx *pulumi.Context,
	name string, args *AlarmArgs, opts ...pulumi.ResourceOpt) (*Alarm, error) {
	if args == nil || args.ContactGroups == nil {
		return nil, errors.New("missing required argument 'ContactGroups'")
	}
	if args == nil || args.Dimensions == nil {
		return nil, errors.New("missing required argument 'Dimensions'")
	}
	if args == nil || args.Metric == nil {
		return nil, errors.New("missing required argument 'Metric'")
	}
	if args == nil || args.Project == nil {
		return nil, errors.New("missing required argument 'Project'")
	}
	if args == nil || args.Threshold == nil {
		return nil, errors.New("missing required argument 'Threshold'")
	}
	inputs := make(map[string]interface{})
	if args == nil {
		inputs["contactGroups"] = nil
		inputs["dimensions"] = nil
		inputs["enabled"] = nil
		inputs["endTime"] = nil
		inputs["metric"] = nil
		inputs["name"] = nil
		inputs["notifyType"] = nil
		inputs["operator"] = nil
		inputs["period"] = nil
		inputs["project"] = nil
		inputs["silenceTime"] = nil
		inputs["startTime"] = nil
		inputs["statistics"] = nil
		inputs["threshold"] = nil
		inputs["triggeredCount"] = nil
	} else {
		inputs["contactGroups"] = args.ContactGroups
		inputs["dimensions"] = args.Dimensions
		inputs["enabled"] = args.Enabled
		inputs["endTime"] = args.EndTime
		inputs["metric"] = args.Metric
		inputs["name"] = args.Name
		inputs["notifyType"] = args.NotifyType
		inputs["operator"] = args.Operator
		inputs["period"] = args.Period
		inputs["project"] = args.Project
		inputs["silenceTime"] = args.SilenceTime
		inputs["startTime"] = args.StartTime
		inputs["statistics"] = args.Statistics
		inputs["threshold"] = args.Threshold
		inputs["triggeredCount"] = args.TriggeredCount
	}
	inputs["status"] = nil
	s, err := ctx.RegisterResource("alicloud:cms/alarm:Alarm", name, true, inputs, opts...)
	if err != nil {
		return nil, err
	}
	return &Alarm{s: s}, nil
}

// GetAlarm gets an existing Alarm resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetAlarm(ctx *pulumi.Context,
	name string, id pulumi.ID, state *AlarmState, opts ...pulumi.ResourceOpt) (*Alarm, error) {
	inputs := make(map[string]interface{})
	if state != nil {
		inputs["contactGroups"] = state.ContactGroups
		inputs["dimensions"] = state.Dimensions
		inputs["enabled"] = state.Enabled
		inputs["endTime"] = state.EndTime
		inputs["metric"] = state.Metric
		inputs["name"] = state.Name
		inputs["notifyType"] = state.NotifyType
		inputs["operator"] = state.Operator
		inputs["period"] = state.Period
		inputs["project"] = state.Project
		inputs["silenceTime"] = state.SilenceTime
		inputs["startTime"] = state.StartTime
		inputs["statistics"] = state.Statistics
		inputs["status"] = state.Status
		inputs["threshold"] = state.Threshold
		inputs["triggeredCount"] = state.TriggeredCount
	}
	s, err := ctx.ReadResource("alicloud:cms/alarm:Alarm", name, id, inputs, opts...)
	if err != nil {
		return nil, err
	}
	return &Alarm{s: s}, nil
}

// URN is this resource's unique name assigned by Pulumi.
func (r *Alarm) URN() *pulumi.URNOutput {
	return r.s.URN
}

// ID is this resource's unique identifier assigned by its provider.
func (r *Alarm) ID() *pulumi.IDOutput {
	return r.s.ID
}

// List contact groups of the alarm rule, which must have been created on the console.
func (r *Alarm) ContactGroups() *pulumi.ArrayOutput {
	return (*pulumi.ArrayOutput)(r.s.State["contactGroups"])
}

// Map of the resources associated with the alarm rule, such as "instanceId", "device" and "port". Each key's value is a string and it uses comma to split multiple items. For more information, see [Metrics Reference](https://www.alibabacloud.com/help/doc-detail/28619.htm).
func (r *Alarm) Dimensions() *pulumi.MapOutput {
	return (*pulumi.MapOutput)(r.s.State["dimensions"])
}

// Whether to enable alarm rule. Default to true.
func (r *Alarm) Enabled() *pulumi.BoolOutput {
	return (*pulumi.BoolOutput)(r.s.State["enabled"])
}

// End time of the alarm effective period. Default value 24 and it indicates the time 24:00. Valid value range: [0, 24].
func (r *Alarm) EndTime() *pulumi.IntOutput {
	return (*pulumi.IntOutput)(r.s.State["endTime"])
}

// Name of the monitoring metrics corresponding to a project, such as "CPUUtilization" and "networkin_rate". For more information, see [Metrics Reference](https://www.alibabacloud.com/help/doc-detail/28619.htm).
func (r *Alarm) Metric() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["metric"])
}

// The alarm rule name.
func (r *Alarm) Name() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["name"])
}

// Notification type. Valid value [0, 1]. The value 0 indicates TradeManager+email, and the value 1 indicates that TradeManager+email+SMS
func (r *Alarm) NotifyType() *pulumi.IntOutput {
	return (*pulumi.IntOutput)(r.s.State["notifyType"])
}

// Alarm comparison operator. Valid values: ["<=", "<", ">", ">=", "==", "!="]. Default to "==".
func (r *Alarm) Operator() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["operator"])
}

// Index query cycle, which must be consistent with that defined for metrics. Default to 300, in seconds.
func (r *Alarm) Period() *pulumi.IntOutput {
	return (*pulumi.IntOutput)(r.s.State["period"])
}

// Monitor project name, such as "acs_ecs_dashboard" and "acs_rds_dashboard". For more information, see [Metrics Reference](https://www.alibabacloud.com/help/doc-detail/28619.htm).
func (r *Alarm) Project() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["project"])
}

// Notification silence period in the alarm state, in seconds. Valid value range: [300, 86400]. Default to 86400
func (r *Alarm) SilenceTime() *pulumi.IntOutput {
	return (*pulumi.IntOutput)(r.s.State["silenceTime"])
}

// Start time of the alarm effective period. Default to 0 and it indicates the time 00:00. Valid value range: [0, 24].
func (r *Alarm) StartTime() *pulumi.IntOutput {
	return (*pulumi.IntOutput)(r.s.State["startTime"])
}

// Statistical method. It must be consistent with that defined for metrics. Valid values: ["Average", "Minimum", "Maximum"]. Default to "Average".
func (r *Alarm) Statistics() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["statistics"])
}

// The current alarm rule status.
func (r *Alarm) Status() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["status"])
}

// Alarm threshold value, which must be a numeric value currently.
func (r *Alarm) Threshold() *pulumi.StringOutput {
	return (*pulumi.StringOutput)(r.s.State["threshold"])
}

// Number of consecutive times it has been detected that the values exceed the threshold. Default to 3.
func (r *Alarm) TriggeredCount() *pulumi.IntOutput {
	return (*pulumi.IntOutput)(r.s.State["triggeredCount"])
}

// Input properties used for looking up and filtering Alarm resources.
type AlarmState struct {
	// List contact groups of the alarm rule, which must have been created on the console.
	ContactGroups interface{}
	// Map of the resources associated with the alarm rule, such as "instanceId", "device" and "port". Each key's value is a string and it uses comma to split multiple items. For more information, see [Metrics Reference](https://www.alibabacloud.com/help/doc-detail/28619.htm).
	Dimensions interface{}
	// Whether to enable alarm rule. Default to true.
	Enabled interface{}
	// End time of the alarm effective period. Default value 24 and it indicates the time 24:00. Valid value range: [0, 24].
	EndTime interface{}
	// Name of the monitoring metrics corresponding to a project, such as "CPUUtilization" and "networkin_rate". For more information, see [Metrics Reference](https://www.alibabacloud.com/help/doc-detail/28619.htm).
	Metric interface{}
	// The alarm rule name.
	Name interface{}
	// Notification type. Valid value [0, 1]. The value 0 indicates TradeManager+email, and the value 1 indicates that TradeManager+email+SMS
	NotifyType interface{}
	// Alarm comparison operator. Valid values: ["<=", "<", ">", ">=", "==", "!="]. Default to "==".
	Operator interface{}
	// Index query cycle, which must be consistent with that defined for metrics. Default to 300, in seconds.
	Period interface{}
	// Monitor project name, such as "acs_ecs_dashboard" and "acs_rds_dashboard". For more information, see [Metrics Reference](https://www.alibabacloud.com/help/doc-detail/28619.htm).
	Project interface{}
	// Notification silence period in the alarm state, in seconds. Valid value range: [300, 86400]. Default to 86400
	SilenceTime interface{}
	// Start time of the alarm effective period. Default to 0 and it indicates the time 00:00. Valid value range: [0, 24].
	StartTime interface{}
	// Statistical method. It must be consistent with that defined for metrics. Valid values: ["Average", "Minimum", "Maximum"]. Default to "Average".
	Statistics interface{}
	// The current alarm rule status.
	Status interface{}
	// Alarm threshold value, which must be a numeric value currently.
	Threshold interface{}
	// Number of consecutive times it has been detected that the values exceed the threshold. Default to 3.
	TriggeredCount interface{}
}

// The set of arguments for constructing a Alarm resource.
type AlarmArgs struct {
	// List contact groups of the alarm rule, which must have been created on the console.
	ContactGroups interface{}
	// Map of the resources associated with the alarm rule, such as "instanceId", "device" and "port". Each key's value is a string and it uses comma to split multiple items. For more information, see [Metrics Reference](https://www.alibabacloud.com/help/doc-detail/28619.htm).
	Dimensions interface{}
	// Whether to enable alarm rule. Default to true.
	Enabled interface{}
	// End time of the alarm effective period. Default value 24 and it indicates the time 24:00. Valid value range: [0, 24].
	EndTime interface{}
	// Name of the monitoring metrics corresponding to a project, such as "CPUUtilization" and "networkin_rate". For more information, see [Metrics Reference](https://www.alibabacloud.com/help/doc-detail/28619.htm).
	Metric interface{}
	// The alarm rule name.
	Name interface{}
	// Notification type. Valid value [0, 1]. The value 0 indicates TradeManager+email, and the value 1 indicates that TradeManager+email+SMS
	NotifyType interface{}
	// Alarm comparison operator. Valid values: ["<=", "<", ">", ">=", "==", "!="]. Default to "==".
	Operator interface{}
	// Index query cycle, which must be consistent with that defined for metrics. Default to 300, in seconds.
	Period interface{}
	// Monitor project name, such as "acs_ecs_dashboard" and "acs_rds_dashboard". For more information, see [Metrics Reference](https://www.alibabacloud.com/help/doc-detail/28619.htm).
	Project interface{}
	// Notification silence period in the alarm state, in seconds. Valid value range: [300, 86400]. Default to 86400
	SilenceTime interface{}
	// Start time of the alarm effective period. Default to 0 and it indicates the time 00:00. Valid value range: [0, 24].
	StartTime interface{}
	// Statistical method. It must be consistent with that defined for metrics. Valid values: ["Average", "Minimum", "Maximum"]. Default to "Average".
	Statistics interface{}
	// Alarm threshold value, which must be a numeric value currently.
	Threshold interface{}
	// Number of consecutive times it has been detected that the values exceed the threshold. Default to 3.
	TriggeredCount interface{}
}
